include mixins/stylesheet.pug
include mixins/links.pug
include mixins/emoji.pug

mixin navlink(link)
	a(href=link,class=(link === filelink ? 'here' : false))
		block

block properties

doctype html
html(lang='de')
	head
		meta(charset='UTF-8')
		title= (title ? title + ' – ' : '') + 'Studier Langsam'

		block meta
			meta(name='viewport',content='width=device-width, initial-scale=1')

		block style
			+stylesheet('/style/base.css')
			style.
				/* 'https://fonts.googleapis.com/css?family=Coda:800 */
				@font-face {
					font-family: 'Coda';
					font-style: normal;
					font-weight: 800;
					src: local('Coda Heavy'), local('Coda-Heavy'), url(https://fonts.gstatic.com/s/coda/v11/HfZzsBW2eqpsWXkIkeLL_Q.woff2) format('woff2');
					unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
				}

	body
		// Piwik
		script(type='text/javascript').
			var _paq = _paq || [];
			_paq.push(["setDomains", ["*.studierlangsam.de","*.studierlangsam.de"]]);
			_paq.push(['trackPageView']);
			_paq.push(['enableLinkTracking']);
			(function() {
				var u="//analytics.studierlangsam.de/";
				_paq.push(['setTrackerUrl', u+'piwik.php']);
				_paq.push(['setSiteId', '3']);
				// heart beat timer: track user’s time spent on the site.
				_paq.push(['enableHeartBeatTimer', 10]);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
			})();
		noscript
			p
				img(src='//analytics.joshuagleitze.de/piwik.php?idsite=3',style='border:0;', alt='')

		block content
			nav
				block navigation
					+navlink('/tutoren') Tutoren
					+navlink('/infos') Infos
					+navlink('/wochenplan') Wochenplan
			main
				block main
			footer
				a(href='/impressum') Impressum
				| |
				+maillink('tutoren@studierlangsam.de')

			script(type='text/javascript').
				(function() {
					var tagNames = ['h1', 'h2', 'h3'];
					for (var i = 0, li = tagNames.length; i < li; i++) {
						var tags = document.getElementsByTagName(tagNames[i]);
						for (var j = 0, lj = tags.length; j < lj; j++) {
							var el = tags[j];
							el.style.paddingTop = (0.5 * el.offsetHeight) + 'px';
						}
					}
				})();
